<div ng-controller="question-controller" class="Question container">
  <div ng-init="questions_get()"> 
    <h1 id="val_name"></h1>
    <h3 id="items"></h3>
  </div>
  
  <button id="export-btn" ng-init="questions_check()" ng-disabled="isDisabled" ng-model="isDisabled" class="btn btn-primary" id="Signup" data-toggle="modal" data-target=".bd-example-modal-lgs">Add Question</button>

  <div ng-init="questions_view()" >
    <div class="accord-edit" id="accordion" ng-repeat="questions in user">
      <div class="card">
        <div class="card-header" id="headingOne">
          <h5 class="mb-0">
            <button class="btn btn-link collapsed quest-button" data-toggle="collapse" data-target="#collapseOne{{$index+1}}" aria-expanded="true" aria-controls="collapseOne">
              Question Item #{{$index+1}}
            </button>
            <button class="glyphicon glyphicon-remove quest-remove" ng-click="questions_delete(questions.question_id, $index)"></button>
          </h5>
        </div>
    
        <div id="collapseOne{{$index+1}}" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
          <div class="card-body">
            <pre>{{questions.question_desc}}
              <button id="export-btn" class="btn btn-primary" id="Answer" data-toggle="modal" data-target=".bd-example-modal-lgs-2" ng-click="questions_get_info(questions.question_id)">Add Answers</button>
            </pre>
            <div class="container-fluid">
              <div class="row" ng-init="answers_view(questions.question_id, $index)" >
                <pre class="col-xs-6" ng-repeat="answers in answer[$index]">{{answers.choices}}</pre>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div ng-controller="question-controller" class="modal fade bd-example-modal-lgs" id="signupModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Question</h4>
      </div>
      <div class="modal-body">
        <form>
          <!-- Question description -->
          <div class="form-group">
            <label class="control-label" for="inputGroupSuccess1">Add Question</label>
            <div class="input-group">
              <span class="input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
              <textarea ng-model="questionsData.question_desc" type="text" rows="5" class="form-control" aria-describedby="inputGroupSuccess1Status" placeholder="Enter question"></textarea>
            </div>
          </div>

          <button ng-click="questions_add()" type="submit" class="btn btn-primary">Submit</button>
          <button class="btn cancel" data-dismiss="modal" aria-label="Close">Cancel</button>
        </form>
      </div>
    </div>
  </div>
</div>

<div ng-controller="question-controller" class="modal fade bd-example-modal-lgs-2" id="answerModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <span ng-model="questionsInfo.question_id" id="edit_quest_id"></span>
        <h4 class="modal-title">Answers</h4>
      </div>
      <div class="modal-body">
        <form>
          <!-- Add multiple answers -->
          <div class="form-group">
            <table class="table table-bordered table-hover table-responsive" id="tableAddRow">
              <thead>
                <tr>
                  <th>Answers</th>
                  <th>Right</th>
                  <th><span class="glyphicon glyphicon-plus addBtn" id="addBtn_0"></span></th>
                </tr>
              </thead>
              <tbody>
                <tr id="tr_0">
                  <td><input type="text" id="answer_0" class="form-control" ng-model="answersData.choices_0"/></td>
                  <td>
                    <select id="right_0" class="form-control" ng-model="answersData.is_right_0">
                      <option selected>Yes</option>
                      <option>No</option>
                    </select>
                  </td>
                  <td><span class="glyphicon glyphicon-minus removeBtn" id="removeBtn_0"></span></td>
                </tr>
              </tbody>
            </table>
          </div>

          <button ng-click="answers_add()" type="submit" class="btn btn-primary">Submit</button>
          <button class="btn cancel" data-dismiss="modal" aria-label="Close">Cancel</button>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
  $(document).ready(function () {
    $('.addBtn').on('click', function () {
      addTableRow();
    });

    $('.removeBtn').click(function () {
      $(this).closest('tr').remove();
    });

    var i = 1;
    function addTableRow() {
      var tempTr = $('<tr><td><input type="text" id="answer_' + i + 
                     '" class="form-control" /></td><td><select id="right_' + i + 
                     '" class="form-control"><option>Yes</option><option>No</option></select></td><td><span class="glyphicon glyphicon-minus removeBtn" id="remove_' + i + 
                     '"></span></td></tr>').on('click', function () {
        $(document.body).on('click', '.TreatmentHistoryRemove', function (e) {
          $(this).closest('tr').remove();
        });
        $('.removeBtn').click(function () {
          $(this).closest('tr').remove();
        });
      });
      
      $('#tableAddRow').append(tempTr);
      i++;
    }
  });
</script>
<div class="Course row" ng-controller="courses-controller" ng-init="check_auth(); courses_view()">
  <div ng-controller="report-controller" ng-init="list_questionnaires()">
    <p class="Course_Header">Courses' Report</p>
    <form class="Report row" ng-controller="course-controller">
      <select id="course_selected" class="col-xs-8 col-md-2 col-lg-2 js-example-basic-single js-example-basic-hide-search" name="state" ng-model="course_selected">
        <option ng-repeat="course in courses" value="{{course.course_id}}">{{course.course_title}}</option>
      </select><br class="hidden-md hidden-lg"/>
      <select class="col-xs-8 col-md-2 js-example-basic-single js-example-basic-hide-search" name="state" ng-init="display = 'Quiz'" ng-model="display">
        <option value="Quiz">Quiz</option>
        <option value="Assignment">Assignment</option>
        <option value="Activity Log">Activity Log</option>
      </select><br class="hidden-md hidden-lg"/>
      <select id="questionnaire_selected" class="col-xs-8 col-md-2 col-lg-2 js-example-basic-single js-example-basic-hide-search" name="state" ng-disabled="display === 'Activity Log'">
        <option ng-repeat="questionnaire in questionnaires | filter: {course_id: course_selected}" value="{{questionnaire.questionnaire_id}}" ng-if="display === 'Quiz'">{{questionnaire.questionnaire_name}}</option>
        <option ng-if="display === 'Assignment'" value="Sample Assignment">Sample Assignment</option>
      </select>
      <br class="hidden-md hidden-lg"/>
      <button id="export-btn" class="Report_Submit btn btn-primary" id="Signup" ng-click="generate_report()">Submit</button>
    </form><br/><br/>
    <div class="Report_Figures row">
      <div class="col-xs-1 col-lg-3"></div>
      <div class="col-xs-10 col-lg-3">
        <canvas id="passrate" width="400" height="400"></canvas>
      </div>
      <div class="col-xs-1 hidden-sm hidden-md hidden-lg"></div>      
      <div class="col-xs-1 hidden-sm hidden-md hidden-lg"></div>      
      <div class="col-xs-10 col-lg-3">
        <canvas id="myChart1" width="400" height="400"></canvas>
      </div>
      <div class="col-xs-1 col-lg-3"></div>
    </div>
    <div class="row">
      <div class="col-xs-1 col-lg-4"></div>
      <div class="col-xs-10 col-lg-4">
        <canvas id="timetable" width="600" height="400"></canvas>
      </div>
      <div class="col-xs-1 col-lg-4"></div>
    </div>
  </div>
</div>

<script>
  $(document).ready(function() {
    $('.js-example-basic-single').select2();
    $(".js-example-basic-hide-search").select2({
      minimumResultsForSearch: Infinity
    });
  });
  
</script>
<script>
  let ctx = document.getElementById("passrate");
  let myChart = new Chart(ctx, {
    type: 'doughnut',
    data: {
        labels: ["Passed", "Failed"],
        datasets: [{
            label: '# of Votes',
            data: [50,100],
            backgroundColor: [
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 99, 132, 0.2)'
            ],
            borderColor: [
                'rgba(54, 162, 235, 1)',
                'rgba(255,99,132,1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        
    }
  });
  ctx = document.getElementById("myChart1");
  myChart = new Chart(ctx, {
    type: 'doughnut',
    data: {
        labels: ["Passed", "Failed"],
        datasets: [{
            label: '# of Votes',
            data: [106,34],
            backgroundColor: [
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 99, 132, 0.2)'
            ],
            borderColor: [
                'rgba(54, 162, 235, 1)',
                'rgba(255,99,132,1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        
    }
  });
  ctx = document.getElementById("timetable");
  myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: ["Aug. 1", "Aug. 2", "Aug. 3", "Aug. 4", "Aug. 5", "Aug. 6", "Aug. 7", "Aug. 8", "Aug. 9", "Aug. 10", "Aug. 11"],
        xAxisID: "Quiz Time Span",
        yAxisID: "Students' Score",
        datasets: [{
            label: 'Average score of students per day',
            data: [0,5,15,11,10,4,12,7,15,14,11,15],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)'
            ],
            borderColor: [
                'rgba(255,99,132,1)',
                'rgba(54, 162, 235, 1)',
            ],
            borderWidth: 1
        }]
    },
    options: {
        
    }
  });
</script>
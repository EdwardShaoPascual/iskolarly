<div ng-controller="quiz-controller" class="container">
  <div class="row">
    <div class="col-sm-10">
      <div class="input-group group">
        <label class="input-group-btn">
          <span class="btn btn-primary btn-file">
            Select file
            <input type="file" on-read-file="showContent($fileContent)" class="input-file" />
          </span>
        </label>
        <input type="text" class="form-control" readonly>
      </div>
    </div>
    <div class="col-sm-2">
        <button type="button" class="btn btn-primary btn-submit" data-toggle="modal" data-target="#submit-quiz-modal">Submit</button>
    </div>
  </div>

  <div ng-if="content">
    <h2>File content is:</h2>
    <pre>{{ content }}</pre>
  </div>

  <div id="submit-quiz-modal" class="modal fade" role="dialog">
    <div class="modal-dialog">
  
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Modal Header</h4>
        </div>
        <div class="modal-body">
          <form>
            <div class="form-group">
              <label for="quiz-title">Quiz Title:</label>
              <input type="text" class="form-control" id="email">
            </div>
            <div class="form-group">
              <label for="pwd">Time:</label>
              <input type="text" class="form-control" id="pwd">
            </div>
            <div class="form-group">
                <label for="quiz-title">Number of questions:</label>
                <input type="text" class="form-control" id="email">
              </div>
          </form>
        </div>
        <div class="modal-footer">
          <!-- <div class="row">
            <div class="col-sm-6">
              <button type="button" class="btn btn-primary btn-submit" data-dismiss="modal">Close</button>
            </div>
            <div class="col-sm-6"> -->
              <button type="submit" class="btn btn-primary btn-submit" data-dismiss="modal">Confirm</button>
            <!-- </div> -->
          <!-- </div> -->
        </div>
      </div>
  
    </div>
  </div>
</div>

<script>
  $(function() {
    // We can attach the `fileselect` event to all file inputs on the page
    $(document).on('change', ':file', function() {
      var input = $(this),
          numFiles = input.get(0).files ? input.get(0).files.length : 1,
          label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
          input.trigger('fileselect', [numFiles, label]);
    });

    // We can watch for our custom `fileselect` event like this
    $(document).ready( function() {
      $(':file').on('fileselect', function(event, numFiles, label) {
        var input = $(this).parents('.input-group').find(':text'),
            log = numFiles > 1 ? numFiles + ' files selected' : label;
            
        if( input.length ) {
          input.val(log);
        } else {
          if( log ) alert(log);
        }
      });
    });
  });

  $(document).ready(function(){
    // 
    $('#submit-quiz-modal').on('hidden', function () {
      // Load up a new modal...
      $('#submit-new-modal').modal('show')
    })
  });
</script>